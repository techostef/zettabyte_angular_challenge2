<div class="dialog-editor">
    <div class="header-container">
        <div class="header">
            Add a Company Staff
        </div>
        <div 
            class="close"
            (click)="onCloseDialog()"
        >
            X
        </div>
    </div>
    <div class="body-container">
        <div class="container-input">
            <mat-form-field class="example-full-width">
                <mat-label>Mail</mat-label>
                <input 
                    type="email" 
                    matInput 
                    [formControl]="emailFormControl" 
                    [errorStateMatcher]="matcher"
                    placeholder="Ex. pat@example.com"
                    (keyup)="onKeyUpEmail($event.target.value)"
                    value="{{value?.email}}"
                >
                <mat-hint>Errors appear instantly!</mat-hint>
                <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                  Please enter a valid email address
                </mat-error>
                <mat-error *ngIf="emailFormControl.hasError('required')">
                  Email is <strong>required</strong>
                </mat-error>
            </mat-form-field>
            <button
                class="check-email-available {{(
                    emailFormControl.hasError('email') || emailFormControl.hasError('required') || emailFormControl.hasError('required')
                ) || isAvailable ? 'disabled' : ''}}"
                (click)="checkEmailAvailable()"
            >
                <div class="icon-container">
                    <mat-icon>check</mat-icon>
                </div>
                Check Email Available
            </button>
            <div 
                *ngIf="isAvailable"
                class="info-available"
            >
                <div class="container-checked">
                    <mat-icon>checked</mat-icon>
                </div>
                <div class="text">
                    Email is Available
                </div>
            </div>
        </div>
        <div class="container-input-line">
            <div class="container-input1">
                <div class="label">Civility *</div>
                <mat-radio-group aria-label="Select an option">
                    <mat-radio-button value="MR" [checked]="value.civility === 'MR'" >Mr</mat-radio-button>
                    <mat-radio-button value="MRS" [checked]="value.civility === 'MRS'">Mrs</mat-radio-button>
                </mat-radio-group>
            </div>
            <div class="container-input1">
                <mat-form-field
                    auto
                    class="example-full-width"
                >
                    <input 
                        name="firstname"
                        matInput 
                        placeholder="First Name" 
                        (keyup)="keyUpFirstName($event.target.value)" 
                        value="{{value?.first_name}}"
                    >
                </mat-form-field>
            </div>
            <div class="container-input1">
                <mat-form-field
                    auto
                    class="example-full-width"
                >
                    <input 
                        name="firstname"
                        matInput 
                        placeholder="Last Name" 
                        (keyup)="keyUpLastName($event.target.value)" 
                        value="{{value?.last_name}}"
                    >
                </mat-form-field>
            </div>
            <div class="container-input1">
                <mat-form-field
                    auto
                    class="example-full-width"
                >
                    <input 
                        name="position"
                        matInput 
                        placeholder="Position" 
                    >
                </mat-form-field>
            </div>
        </div>
        <div class="container-input-line">
            <div class="container-input1">
                <mat-form-field 
                >
                
                    <mat-label>Company</mat-label>
                    <mat-select
                        [(value)]="value.company.name"
                    >
                        <mat-option *ngFor="let option of entityOptions" [value]="option">
                            {{option}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <!-- <div class="container-input1">
                <mat-form-field 
                >
                    <mat-label>Select User Type *</mat-label>
                    <mat-select
                        [(value)]="value.company.name"
                    >
                        <mat-option *ngFor="let option of entityOptions" [value]="option">
                            {{option}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div> -->
        </div>
        <div class="buttons">
            <button 
                class="cancel-btn"
                (click)="onCloseDialog()"
            >
                Cancel
            </button>
            <button 
                [disabled]="!isAvailable || !value?.first_name?.length || !value?.last_name?.length"
                class="save-btn"
                (click)="saveItem()"
            >
                Submit
            </button>
        </div>
    </div>
</div>